<!--
author: Wouter Zeevat
-->
<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" data-theme="light">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <title>Peptidomics</title>
  <link rel="stylesheet" th:href="@{css/bulma.css}" href="../static/css/bulma.css"/>
  <link rel="stylesheet" th:href="@{css/results.css}" href="../static/css/index.css"/>
  <link rel="stylesheet" th:href="@{css/general.css}" href="../static/css/general.css"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
  <script type="text/javascript" th:src="@{js/toastr.min.js}" src="../static/js/toastr.min.js"></script>
  <link rel="stylesheet" th:href="@{css/toastr.min.css}" href="../static/css/toastr.min.css"/>
  <link href="https://cdn.jsdelivr.net/npm/@creativebulma/bulma-tooltip@1.2.0/dist/bulma-tooltip.min.css " rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma-steps@2.2.1/dist/css/bulma-steps.min.css">
  <script src="https://cdn.plot.ly/plotly-2.20.0.min.js"></script>
  <script src = "https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.0/FileSaver.min.js" integrity="sha512-csNcFYJniKjJxRWRV1R7fvnXrycHP6qDR21mgz1ZP55xY5d+aHLfo9/FcGDQLfn2IfngbAHd8LdfsagcCqgTcQ==" crossorigin = "anonymous" referrerpolicy = "no-referrer"> </script>
  <link rel="icon" type="image/ico" th:href="@{../static/images/favicon.ico}">
</head>
<body>
<div th:replace="~{fragments :: navbar}"></div>

<section class="section">
  <div class="container has-text-centered" id="stats-pdb">
    <p id="pdb-structure" class="is-size-2" th:inline="text"><strong>Results of:</strong> [[${fileName}]]</p>
    <p th:inline="text" class="is-size-3"><strong>Length:</strong> [[${pepSize}]]</p>
    <div id="skeleton-loader" style="padding-bottom: 2rem">
      <p id="pdb-title" class="is-size-4 has-text-weight-bold">Title</p>
      <p id="pdb-subtitle" class="is-size-4 ">Subtitle</p>
      <p id="pdb-link" class="is-size-5 is-underlined">PDB Website</p>
      <p id="paper-link" class="is-size-5">Paper Link</p>
      <p id="download-link" style="cursor: pointer;">Download result</p>
    </div>

    <div class="columns is-centered"  id="pdb-stats">
      <div class="column is-full" id="loader-stats">
        <div class="card">
          <div class="card-content">
            <i class="fa fa-spinner fa-pulse is-size-1" id="stats-spinner"></i>
            <p class="is-size-5 has-text-weight-bold" id="place-text">No Protein Chains</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section pb-0">
  <div class="container has-text-centered">
    <div class="columns is-centered">
      <div class="column is-one-third" id="left-selector">
        <div class="field">
          <label for="left" id="left-label" class="label has-tooltip-multiline" data-tooltip="Select only specific types for the amino acid in the middle left of the oligo part">Select for left:</label>
          <div class="select" id="left-select-box">
            <select name="left" id="left">
              <option value="_">All</option>
            </select>
          </div>
        </div>
      </div>

      <div class="column is-one-third" id="middle-selector">
        <div class="field">
          <label for="middle" id="middle-label" class="label has-tooltip-multiline" data-tooltip="Select only specific types for the amino acid in the middle of the oligo part">Select for middle</label>
          <div class="select" id="middle-select-box">
            <select name="middle" id="middle">
              <option value="_">All</option>
            </select>
          </div>
        </div>
      </div>

      <div class="column is-one-third" id="right-selector">
        <div class="field">
          <label for="right" id="right-label" class="label has-tooltip-multiline" data-tooltip="Select only specific types for the amino acid in the middle right of the oligo part">Select for right:</label>
          <div class="select" id="right-select-box">
            <select name="right" id="right">
              <option value="_">All</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section">
  <div class="container has-text-centered">
    <p class="is-size-4">Each oligo part</p>
    <div class="steps is-small" id="steps">

      <th:block th:each="i: ${#numbers.sequence(1, #numbers.formatInteger(pepSize, 100))}">

        <div class="step-item">
          <div class="step-marker"></div>
        </div>

      </th:block>

    </div>
  </div>
</section>

<section class="section" style="padding-top: 0">
  <div class="container has-text-centered">
    <div class="columns is-centered" style="padding: 2rem">
      <div class="column is-two-fifths">
        <div class="card">
          <div class="card-content">
            <p class="is-size-5" style="text-align: left">3D viewer
              <strong id="3d-text">0 selected</strong>
              <i class="option-icon fa fa-undo is-medium is-pulled-right" id="reset"></i>
              <i class="option-icon fa fa-search is-medium is-pulled-right is-hidden" id="zoom-btn" ></i>
            </p>

          </div>
          <div class="card-image">
            <div class="columns is-centered" style="padding: 2rem">
              <div class="column" id="3d-protein">
                <span id=protein></span>
              </div>
              <div src="" alt="Placeholder image" id="placeholder-protein"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="column is-three-fifths">
        <div class="card">
          <div class="card-content scatter-2d-card">
            <p class="is-size-5" style="text-align: left">Scatter dimensions plot
              <i class="option-icon fa fa-undo is-medium is-pulled-right" id="reset-plot2d"></i>
            </p>
          </div>
          <div class="card-image">
            <figure class="image">
              <div class="spinner-loader" id="spinner-scatter">
                <i class="fa fa-spinner fa-pulse is-size-1"></i>
              </div>
              <div src="" alt="Placeholder image" id="placeholder-scatter"></div>
            </figure>
          </div>
        </div>
      </div>
    </div>
    <div class="columns is-centered">
      <div class="column is-full">
        <div class="card">
          <div class="card-content">
            <p class="is-size-5" style="text-align: left">Scatter 3D plot
              <i class="option-icon fa fa-undo is-medium is-pulled-right" id="reset-plot3d"></i>
            </p>
          </div>

          <figure class="image">
            <div class="spinner-loader" id="spinner-scatter-3d">
              <i class="fa fa-spinner fa-pulse is-size-1"></i>
            </div>
            <div id="placeholder-scatter-3d"></div>
          </figure>

        </div>
      </div>
    </div>
  </div>
</section>

<div th:replace="~{fragments :: footer}"></div>
<script src=https://chemapps.stolaf.edu/jmol/files/JSmolMin2.js></script>
<script type="text/javascript" src="../static/js/results.js" th:src="@{js/results.js}"></script>
</body>
</html>